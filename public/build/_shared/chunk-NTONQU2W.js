import{c as y}from"/myst_assets_folder/_shared/chunk-MZ5FMELZ.js";import{a as _}from"/myst_assets_folder/_shared/chunk-RTIGS2T3.js";function p(r,e){return t(r,null,null);function t(n,o,i){let l=Object.assign({},e(n,o,i));return"children"in n&&(l.children=n.children.map(function(d,u){return t(d,u,n)})),l}}var C=r=>crypto.getRandomValues(new Uint8Array(r)),T=(r,e,t)=>{let n=(2<<Math.log(r.length-1)/Math.LN2)-1,o=-~(1.6*n*e/r.length);return(i=e)=>{let l="";for(;;){let d=t(o),u=o;for(;u--;)if(l+=r[d[u]&n]||"",l.length===i)return l}}},v=(r,e=21)=>T(r,e,C);function b(r,e){return e?.note&&(r.note=e?.note),e?.url&&(r.url=e?.url),e?.fatal&&(r.fatal=!0),r}function I(r,e,t){return b(r.message(e,t?.node,t?.source),{...t,fatal:!0})}function L(r,e,t){return b(r.message(e,t?.node,t?.source),t)}var A="abcdefghijklmnopqrstuvwxyz",k=A+A.toUpperCase(),P="0123456789",j=v(k,1),z=v(k+P,9);function O(){return j()+z()}function U(r){if(!r)return;let e=r.replace(/[\t\n\r ]+/g," ").trim().toLowerCase(),t=N(e);return{identifier:e,label:r,html_id:t}}function N(r){if(r)return r.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/^([0-9-])/,"id-$1").replace(/-[-]+/g,"-").replace(/(?:^[-]+)|(?:[-]+$)/g,"")}function M(r,e){p(r,t=>{var n,o;let i=(o=(n=t.children)===null||n===void 0?void 0:n.map(l=>l.type===e&&l.children?l.children:l))===null||o===void 0?void 0:o.flat();return t&&t.children==null&&delete t.children,i!==void 0&&(t.children=i),t})}function R(r,e){r.children=[{type:"text",value:e}]}function s(r){return r?Array.isArray(r)?r.map(e=>!e||typeof e=="string"?e||"":"value"in e?e.value:"children"in e&&e.children?s(e.children):"").join(""):s([r]):""}function m(r){return JSON.parse(JSON.stringify(r))}var h;(function(r){r.content="notebook-content",r.code="notebook-code"})(h||(h={}));var x;(function(r){r.string="string",r.number="number",r.boolean="boolean",r.parsed="parsed"})(x||(x={}));var S=[],g=function(r,e,t){let n=_(t||e),o=!e||e.cascade===void 0||e.cascade===null?!0:e.cascade;return i(r);function i(l,d,u){let c=l.children||S,a=-1,f=0;if(n(l,d,u))return null;if(c.length>0){for(;++a<c.length;)i(c[a],a,l)&&(c[f++]=c[a]);if(o&&!f)return null;c.length=f}return l}};function w(r,e){if(!e)return;let t=y("block",r).filter(n=>{var o;return((o=n.data)===null||o===void 0?void 0:o.part)===e});if(t.length!==0)return t}function B(r,e){let t=w(r,e);if(!t)return;let n={type:"root",children:m(t)};return t.forEach(o=>{o.type="__delete__"}),g(r,"__delete__"),n}export{p as a,I as b,L as c,O as d,U as e,N as f,M as g,R as h,s as i,m as j,g as k,B as l,h as m,x as n};
